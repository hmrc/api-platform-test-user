#%RAML 1.0
---

title: Create Test User
version: 1.0
protocols: [ HTTPS ]
baseUri: https://api.service.hmrc.gov.uk/

documentation:
 - title: Overview
   content: !include docs/overview.md
 - title: Versioning
   content: !include https://developer.service.hmrc.gov.uk/api-documentation/assets/common/docs/versioning.md
 - title: Errors
   content: !include https://developer.service.hmrc.gov.uk/api-documentation/assets/common/docs/errors.md

mediaType: [ application/json, application/hal+json ]

uses:
  sec: https://developer.service.hmrc.gov.uk/api-documentation/assets/common/modules/securitySchemes.raml
  headers: https://developer.service.hmrc.gov.uk/api-documentation/assets/common/modules/headers.raml
  annotations: https://developer.service.hmrc.gov.uk/api-documentation/assets/common/modules/annotations.raml
  types: https://developer.service.hmrc.gov.uk/api-documentation/assets/common/modules/types.raml

/create-test-user:
  /individuals:
    post:
      displayName: Create a test user which is an individual
      description: This resource creates and returns a test user which is an individual. The caller can specify the required service enrolments in the request body. If no request body is supplied, the test user is created with no service enrolments.
      is: [headers.acceptHeader, headers.contentHeader]
      securedBy: [ sec.x-application ]
      body:
        application/json:
          schema: !include schemas/create-individual-request.json
          example: !include examples/create-individual-request.json
      responses:
        201:
          description: The individual test user resource has been created.
          body:
            application/json:
              schema: !include schemas/create-individual-response.json
              example: !include examples/create-individual-response.json
  /organisations:
    post:
      displayName: Create a test user which is an organisation
      description: This resource creates and returns a test user which is an organisation. The caller can specify the required service enrolments in the request body. If no request body is supplied, the test user is created with no service enrolments.
      is: [headers.acceptHeader, headers.contentHeader]
      securedBy: [ sec.x-application ]
      body:
        application/json:
          schema: !include schemas/create-organisation-request.json
          example: !include examples/create-organisation-request.json
      responses:
        201:
          description: The organisation test user resource has been created.
          body:
            application/json:
              schema: !include schemas/create-organisation-response.json
              example: !include examples/create-organisation-response.json
  /agents:
    post:
      displayName: Create a test user which is an agent
      description: This resource creates and returns a test user which is an agent. The caller can specify the required service enrolments in the request body. If no request body is supplied, the test user is created with no service enrolments.
      is: [headers.acceptHeader, headers.contentHeader]
      securedBy: [ sec.x-application ]
      body:
        application/json:
          schema: !include schemas/create-agent-request.json
          example: !include examples/create-agent-request.json
      responses:
              201:
                description: The agent test user resource has been created.
                body:
                  application/json:
                    schema: !include schemas/create-agent-response.json
                    example: !include examples/create-agent-response.json
